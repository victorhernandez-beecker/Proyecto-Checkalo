# ==========================
# CONFIGURACI√ìN GLOBAL
# ==========================

global:
  scrape_interval: 15s        # Intervalo entre recolecciones de m√©tricas (por defecto 1m)
  evaluation_interval: 15s    # Cada cu√°nto se eval√∫an las reglas de alerta
  # scrape_timeout: 10s       # Tiempo m√°ximo para obtener m√©tricas (opcional)

# ==========================
# CONFIGURACI√ìN DE ALERTMANAGER
# ==========================
alerting:
  alertmanagers:
    - static_configs:
        - targets:
          # - alertmanager:9093   # Descomenta esta l√≠nea si tienes Alertmanager activo

# ==========================
# ARCHIVOS DE REGLAS (Opcional)
# ==========================
rule_files:
  # - "rules.yml"    # Puedes definir tus reglas de alerta aqu√≠ m√°s adelante

# ==========================
# SCRAPE CONFIGS (FUENTES DE M√âTRICAS)
# ==========================
scrape_configs:

  # üîπ Monitorear Prometheus a s√≠ mismo
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]
        labels:
          app: "prometheus"

  # üîπ Monitorear el servidor con tu script Python
  - job_name: "servidor_web"
    metrics_path: "/metrics"
    static_configs:
      - targets: ["184.168.28.51:8000"]   # Puerto donde tu script expone las m√©tricas
        labels:
          app: "monitor_servidor"
          entorno: "produccion"

  # üîπ (Opcional) Agrega m√°s servidores aqu√≠ si deseas escalar el monitoreo
  # - job_name: "otro_servidor"
  #   metrics_path: "/metrics"
  #   static_configs:
  #     - targets: ["192.168.1.20:8000"]
  #       labels:
  #         app: "monitor_backup"
  #         entorno: "pruebas"
